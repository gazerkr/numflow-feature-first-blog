# 기능 목록 및 페이지 구조

## 기능 분류

### 1. 설치 기능 (Install)

#### 1.1 설치 상태 확인
- **목적**: 첫 접속 시 설치 완료 여부 확인
- **구현**: 전역 미들웨어
- **로직**:
  ```
  if (Setting.installed === false) {
    if (currentPath !== '/install') {
      redirect to '/install'
    }
  }
  ```

#### 1.2 설치 페이지
- **경로**: `/install`
- **기능**:
  - 기본 블로그 정보 입력
  - 관리자 계정 생성
  - 기본 카테고리 생성
  - 설치 완료 처리

### 2. 인증 기능 (Auth)

#### 2.1 로그인
- **경로**: `/auth/login`
- **기능**:
  - 사용자명/비밀번호 입력
  - bcryptjs 검증
  - 세션 생성

#### 2.2 로그아웃
- **경로**: `/auth/logout`
- **기능**:
  - 세션 파기
  - 로그인 페이지로 리다이렉트

#### 2.3 세션 검증
- **구현**: 미들웨어
- **적용 대상**: 모든 `/admin/*` 경로

### 3. 블로그 기능 (Public)

#### 3.1 홈/게시물 목록
- **경로**: `/`
- **기능**:
  - 발행된 게시물 목록 (페이지네이션)
  - 최신순 정렬
  - 썸네일 표시
  - 발행일, 카테고리, 태그 표시

#### 3.2 게시물 상세 보기
- **경로**: `/posts/:slug`
- **기능**:
  - Markdown → HTML 렌더링
  - 조회수 증가
  - 작성자 정보
  - 관련 게시물 추천

#### 3.3 카테고리별 보기
- **경로**: `/category/:slug`
- **기능**:
  - 특정 카테고리의 게시물 목록
  - 페이지네이션

#### 3.4 태그별 보기
- **경로**: `/tag/:slug`
- **기능**:
  - 특정 태그의 게시물 목록
  - 페이지네이션

#### 3.5 검색
- **경로**: `/search?q=keyword`
- **기능**:
  - 제목/내용에서 검색
  - 결과 목록

### 4. 관리자 기능

#### 4.1 대시보드
- **경로**: `/admin`
- **기능**:
  - 통계 (게시물 수, 조회수 등)
  - 최근 게시물 목록
  - 빠른 작업 링크

#### 4.2 게시물 관리

##### 4.2.1 게시물 목록
- **경로**: `/admin/posts`
- **기능**:
  - 전체 게시물 목록 (발행/미발행)
  - 검색/필터링
  - 삭제

##### 4.2.2 게시물 작성
- **경로**: `/admin/posts/new`
- **기능**:
  - Markdown 에디터
  - 실시간 미리보기
  - 제목, slug, 카테고리, 태그 설정
  - 커버 이미지 업로드
  - 발행/임시저장

##### 4.2.3 게시물 수정
- **경로**: `/admin/posts/:id/edit`
- **기능**:
  - 기존 게시물 수정
  - 작성과 동일한 기능

#### 4.3 카테고리 관리
- **경로**: `/admin/categories`
- **기능**:
  - 카테고리 생성/수정/삭제
  - 순서 조정

#### 4.4 태그 관리
- **경로**: `/admin/tags`
- **기능**:
  - 태그 생성/삭제
  - 사용 횟수 표시

#### 4.5 설정
- **경로**: `/admin/settings`
- **기능**:
  - 블로그 기본 정보 수정
  - 표시 설정
  - 계정 정보 수정

## 페이지 구조

### 공개 페이지

```
/                       → 홈 (게시물 목록)
/posts/:slug            → 게시물 상세
/category/:slug         → 카테고리별 게시물
/tag/:slug              → 태그별 게시물
/search                 → 검색 결과
/about                  → About (기존)
```

### 관리자 페이지

```
/admin                  → 대시보드
/auth/login             → 로그인
/auth/logout            → 로그아웃

/admin/posts            → 게시물 목록
/admin/posts/new        → 게시물 작성
/admin/posts/:id/edit   → 게시물 수정

/admin/categories       → 카테고리 관리
/admin/tags             → 태그 관리
/admin/settings         → 설정
```

### 설치 페이지

```
/install                → 설치 페이지
```

## 화면 와이어프레임

### 홈 (게시물 목록)
```
┌─────────────────────────────────────┐
│ [Logo] 블로그 이름        [로그인]   │
├─────────────────────────────────────┤
│ [홈] [카테고리▼] [태그▼] [검색🔍]    │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ [썸네일]                         │ │
│ │ 게시물 제목                       │ │
│ │ 요약 내용...                     │ │
│ │ 날짜 | 카테고리 | 조회수 100       │ │
│ │ #태그1 #태그2                    │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ [썸네일]                         │ │
│ │ ...                              │ │
│ └─────────────────────────────────┘ │
│ [이전] [1] [2] [3] [다음]           │
└─────────────────────────────────────┘
```

### 게시물 상세
```
┌─────────────────────────────────────┐
│ [Logo] 블로그 이름        [로그인]   │
├─────────────────────────────────────┤
│ [← 목록으로]                         │
├─────────────────────────────────────┤
│ 게시물 제목                           │
│ 작성자 | 날짜 | 조회수 | 카테고리     │
│ #태그1 #태그2                        │
├─────────────────────────────────────┤
│ [커버 이미지]                        │
├─────────────────────────────────────┤
│ 내용 (Markdown 렌더링)               │
│                                      │
│ ...                                  │
├─────────────────────────────────────┤
│ 관련 게시물:                         │
│ - 게시물 1                           │
│ - 게시물 2                           │
└─────────────────────────────────────┘
```

### 관리자 대시보드
```
┌─────────────────────────────────────┐
│ [Logo] 관리자             [로그아웃]  │
├─────────────────────────────────────┤
│ [대시보드] [게시물] [카테고리] [설정]│
├─────────────────────────────────────┤
│ 통계                                 │
│ ┌──────┐ ┌──────┐ ┌──────┐          │
│ │ 전체 │ │발행됨│ │조회수│          │
│ │  10  │ │   8  │ │ 523  │          │
│ └──────┘ └──────┘ └──────┘          │
├─────────────────────────────────────┤
│ 최근 게시물                          │
│ - 게시물 1 (발행됨) [수정] [삭제]    │
│ - 게시물 2 (임시) [수정] [삭제]      │
├─────────────────────────────────────┤
│ 빠른 작업                            │
│ [새 게시물] [설정]                   │
└─────────────────────────────────────┘
```

### 게시물 작성/수정
```
┌─────────────────────────────────────┐
│ [Logo] 관리자             [로그아웃]  │
├─────────────────────────────────────┤
│ [← 목록으로]                         │
├─────────────────────────────────────┤
│ 제목: [___________________________] │
│ Slug: [___________________________] │
│ 카테고리: [일반 ▼]                   │
│ 태그: [tech, blog]                   │
│ 커버 이미지: [파일 선택]             │
├─────────────────────────────────────┤
│ [편집] [미리보기]                    │
├─────────────────────────────────────┤
│ Markdown 에디터                      │
│ ## 제목                              │
│ 내용...                              │
│                                      │
├─────────────────────────────────────┤
│ [임시저장] [발행]                    │
└─────────────────────────────────────┘
```

### 설치 페이지
```
┌─────────────────────────────────────┐
│         Numflow 블로그 설치          │
├─────────────────────────────────────┤
│ 1. 블로그 정보                       │
│ 블로그 이름: [___________________]  │
│ 설명: [_________________________]  │
│                                      │
│ 2. 관리자 계정                       │
│ 사용자명: [_____________________]   │
│ 이메일: [_______________________]   │
│ 비밀번호: [_____________________]   │
│ 비밀번호 확인: [_________________]  │
│ 표시 이름: [____________________]   │
│                                      │
│ [설치]                               │
└─────────────────────────────────────┘
```

## 우선순위

### Phase 1: 핵심 기능
1. 설치 시스템
2. 인증 시스템
3. 게시물 작성/수정/삭제
4. 게시물 목록/상세 보기

### Phase 2: 추가 기능
1. 카테고리/태그 관리
2. 검색 기능
3. 대시보드 통계

### Phase 3: 고급 기능
1. 이미지 업로드
2. Markdown 에디터 개선
3. SEO 최적화
4. RSS 피드

## 다음 단계

- 각 기능을 Feature-First 구조로 매핑
- 상세한 인증/인가 시스템 설계
- 구현 로드맵 작성
